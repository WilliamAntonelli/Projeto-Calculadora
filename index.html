<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora</title>
</head>

<style>

    body {
        display: flex;      
    } 

    section{
        padding: 0;
        margin: 0;
        background-color:  rgb(202, 198, 198);
    }

    input{
        margin-bottom: 5ex;
    }

    div{
        
        background-color:  rgb(245, 241, 241);
        width: 5.5ex;
        height: 4ex;
        display: inline-block;
        
    } 

    img{
        width: 5.5ex;
        height: 4ex;
    }

    p{
      
        margin-top: 0.8ex;
        margin-left: 2ex;
        position: absolute;
    }

    .clLinha1{
        width: 4.3ex;
        height: 3ex;
        display: inline-block;
        
    }

    .clLinha1:hover {                  /*hover somente para primeira linha*/
        background-color: rgb(236, 58, 14);

    } 

    .clLinha1p{
        font-size: .35cm;
        margin-top: 0.5ex;
        margin-left: 0.9ex;
        position: fixed
    }

    #idBorderOut{
        border: 5px solid black; 
        background-color:  rgb(202, 198, 198);
        padding: 20px;
        margin: 10px;
            
    }

    #idMaisMenosCss{
        margin-left: 1.5ex;
    }

    #idclLinha1pMMenos{
        margin-left: 1.3ex;
    }
    
</style>

<body>

    <section id="idBorderOut">

        <input type="number" id="idCampo" step=".01">
        
        <output id="idOut"></output>

        <section>

            <div class="clLinha1" onclick="memoriaC()">
                <p class="clLinha1p">MC</p>
            </div>
            <div class="clLinha1" onclick="memoriaR()">
                <p class="clLinha1p">MR</p>
            </div>
            <div class="clLinha1" onclick="memoriaMais()">
                <p class="clLinha1p">M+</p>
            </div>
            <div class="clLinha1" onclick="memoriaMenos()">
                <p class="clLinha1p" id= "idclLinha1pMMenos">M-</p>
            </div>
            <div class="clLinha1" onclick="memoriaS()">
                <p class="clLinha1p">MS</p>
            </div>

        </section>

        <section>

            <div onclick="porcentagem()">
                <img src="assets/por.jpg">  <!--Parte das teclas estão com <img> e parte com <p> 
                                            para treinar os dois modos-->
            </div>
            <div onclick="teclaCe()">
                <img src="assets/ce.jpg">
            </div>
            <div onclick="teclaC()">
                <img src="assets/c.jpg">
            </div>
            <div onclick="voltar()">
                <img src="assets/voltar.jpg">
            </div>

        </section>

        <section>

            <div onclick="sobre()">
                <img src="assets/um sobre.jpg">
            </div>
            <div onclick="quadrado()">
                <img src="assets/quadrado.jpg">
            </div>
            <div onclick="raiz()">
                <img src="assets/raiz.jpg">
            </div>
            <div onclick="dividir()">
                <img src="assets/dividir.jpg">
            </div>

        </section>

        <section>

            <div onclick="numero1()">
                <p> 1</p>
            </div>
            <div onclick="numero2()">
                <p> 2</p>
            </div>
            <div onclick="numero3()">
                <p> 3</p>
            </div>
            <div onclick="multiplicar()">
                <img src="assets/vezes.jpg" id="idTesteimg">
            </div>

        </section>

        <section>

            <div onclick="numero4()">
                <p>4</p>
            </div>
            <div onclick="numero5()">
                <p>5</p>
            </div>
            <div onclick="numero6()">
                <p>6</p>
            </div>
            <div onclick="subtrair()">
                <img src="assets/menos.jpg">
            </div>

        </section>

        <section>

            <div onclick="numero7()">
                <p>7</p>
            </div>
            <div onclick="numero8()">
                <p>8</p>
            </div>
            <div onclick="numero9()">
                <p>9</p>
            </div>
            <div onclick="somar()">
                <img src="assets/mais.jpg">
            </div>

        </section>

        <section>

            <div onclick="maisMenos()">
                <p id="idMaisMenosCss">+/-</p>
            </div>
            <div onclick="numero0()">
                <p>0</p>
            </div>
            <div onclick="ponto()">
                <p>.</p>
            </div>
            <div onclick="igual()">
                <img src="assets/igual.jpg">
            </div>

        </section>

    </section>

    <script>
        var som = 0 
        var sub = 0
        var div = 0
        var mul = 0
        var memoria = 0
        var umSinal = 0
        var umPonto = 0
        var concatenador = ""
                                           //funções para pegar os números
        function numero1() {
            concatenador = concatenador + 1
            document.getElementById("idCampo").value = concatenador
        }
        function numero2() {
            concatenador = concatenador + 2
            document.getElementById("idCampo").value = concatenador
        }
        function numero3() {
            concatenador = concatenador + 3
            document.getElementById("idCampo").value = concatenador
        }
        function numero4() {
            concatenador = concatenador + 4
            document.getElementById("idCampo").value = concatenador
        }
        function numero5() {
            concatenador = concatenador + 5
            document.getElementById("idCampo").value = concatenador
        }
        function numero6() {
            concatenador = concatenador + 6
            document.getElementById("idCampo").value = concatenador
        }
        function numero7() {
            concatenador = concatenador + 7
            document.getElementById("idCampo").value = concatenador
        }
        function numero8() {
            concatenador = concatenador + 8
            document.getElementById("idCampo").value = concatenador
        }
        function numero9() {
            concatenador = concatenador + 9
            document.getElementById("idCampo").value = concatenador
        }
        function numero0() {
            concatenador = concatenador + 0
            document.getElementById("idCampo").value = concatenador
        }
        function ponto() {
            if (umPonto == 0) {
                concatenador = concatenador + "."
            }
            umPonto++
    
        }
        function maisMenos() {
            if (umSinal == 0) {
                concatenador = "-" + concatenador
            }
            umSinal++

            document.getElementById("idCampo").value = concatenador
        }
                                  //funções para as operações básicas
        function somar() {
            som = concatenador
            concatenador = ""
        }

        function subtrair() {
            sub = concatenador
            concatenador = ""
        }
        function multiplicar() {
            mul = concatenador
            concatenador = ""
        }
        function dividir() {
            div = concatenador
            concatenador = ""
        }

        function sobre() {
            concatenador = 1/concatenador
            document.getElementById("idCampo").value = concatenador
            concatenador = ""
        }
        function raiz() {
            concatenador = concatenador ** 0.5
            document.getElementById("idCampo").value = concatenador
            concatenador = ""
        }
        function quadrado() {
            concatenador = concatenador * concatenador
            document.getElementById("idCampo").value = concatenador
            concatenador = ""
        }
        function voltar() {
            concatenador = ""
            document.getElementById("idCampo").value = concatenador
        }
        function teclaC() {
            var som = 0 
            var sub = 0
            var div = 0
            var mul = 0
            var umSinal = 0
            var umPonto = 0
            concatenador = ""
            document.getElementById("idCampo").value = concatenador
        }
        function teclaCe() {
            concatenador = ""
            document.getElementById("idCampo").value = concatenador
        }

        function porcentagem() {
            if (som != 0) {
                concatenador = Number(som) + (Number(concatenador) / 100) * Number(som)
                som = 0

            } else if (sub != 0) {
                concatenador = Number(sub) - (Number(concatenador) / 100) * Number(sub)
                sub = 0

            } else if (mul != 0) {
                concatenador = (Number(concatenador) / 100) * Number(mul)
                mul = 0

            } else if (div != 0) {
                concatenador = (100 / Number(concatenador)) * Number(div)
                div = 0
            } else {
                concatenador = ""
                
            }{
                
            }{
                
            }{
                
            }
            document.getElementById("idCampo").value = concatenador
            concatenador = ""
        }

        function igual() {
            if (som != 0) {
                concatenador = Number(concatenador) + Number(som)
                som = 0

            } else if (sub != 0) {
                concatenador = Number(sub) - Number(concatenador)
                sub = 0

            } else if (mul != 0) {
                concatenador = Number(concatenador) * Number(mul)
                mul = 0

            } else if (div != 0) {
                concatenador = Number(div) / Number(concatenador)
                div = 0

            }{
                
            }{
                
            }{
                
            }
            document.getElementById("idCampo").value = concatenador
            concatenador = ""
        }
                                           //funções para as memórias
        function memoriaS() {
            memoria = Number(concatenador)
            document.getElementById("idOut").value = "M"
        }
        function memoriaMais() {
            memoria = memoria + Number(concatenador)
            document.getElementById("idOut").value = "M"
        }
        function memoriaMenos() {
            memoria = memoria - Number(concatenador)
            document.getElementById("idOut").value = "M"
        }
        function memoriaR() {
            concatenador = memoria
            document.getElementById("idCampo").value = concatenador
        }
        function memoriaC() {
            memoria = 0
            document.getElementById("idOut").value = ""
        }
    </script>
    
</body>
</html>